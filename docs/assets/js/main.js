"use strict";const choices=document.querySelectorAll(".main__choices-img"),score=document.getElementById("score"),result=document.getElementById("result"),restart=document.getElementById("restart"),modal=document.querySelector(".modal"),scoreboard={player:0,computer:0},getPreviousScore=()=>{const e=JSON.parse(localStorage.getItem("score"));if(null!==e){const{player:r,computer:o}=e;scoreboard.player=r,scoreboard.computer=o}},getComputerChoice=()=>{const e=Math.random();return e<.34?"rock":e<.67?"paper":"scissors"},getWinner=(e,r)=>e===r?"draw":"rock"===e?"paper"===r?"computer":"player":"paper"===e?"scissors"===r?"computer":"player":"scissors"===e?"rock"===r?"computer":"player":void 0,updateScore=()=>{score.innerHTML=`\n  <p>Player: ${scoreboard.player}</p>\n  <p>Computer: ${scoreboard.computer}</p>\n  `},showWinner=(e,r)=>{"player"===e?(scoreboard.player++,result.innerHTML=`\n    <h1 class="modal__content-title win">You Win</h1>\n    <img\n      class="main__choices-img"\n      id=${r}\n      src="./assets/images/icon-${r}.svg"\n      alt=${r}\n    />\n    <p class="modal__content-paragraph">Computer Chose <strong>\n    ${r.charAt(0).toUpperCase()+r.slice(1)}<strong></p>`):"computer"===e?(scoreboard.computer++,result.innerHTML=`\n     <h1 class="modal__content-title lose">You Lose</h1>\n     <img\n       class="main__choices-img"\n       id=${r}\n       src="./assets/images/icon-${r}.svg"\n       alt=${r}\n     />\n     <p class="modal__content-paragraph">Computer Chose <strong>\n     ${r.charAt(0).toUpperCase()+r.slice(1)}<strong></p>\n     `):result.innerHTML=`\n     <h1 class="modal__content-title">It's A Draw</h1>\n     <img\n       class="main__choices-img"\n       id=${r}\n       src="./assets/images/icon-${r}.svg"\n       alt=${r}\n     />\n     <p class="modal__content-paragraph">Computer Chose <strong>\n     ${r.charAt(0).toUpperCase()+r.slice(1)}<strong></p>\n     `,updateScore(),modal.style.display="block"},showRestartButton=()=>{const{player:e,computer:r}=scoreboard;(e>0||r>0)&&(restart.style.display="inline-block")},play=e=>{const r=e.target.id,o=getComputerChoice(),t=getWinner(r,o);showWinner(t,o),showRestartButton(),localStorage.setItem("score",JSON.stringify(scoreboard))},clearModal=e=>{e.target===modal&&(modal.style.display="none")},restartGame=()=>{scoreboard.player=0,scoreboard.computer=0,score.innerHTML="\n    <p>Player: 0</p>\n    <p>Computer: 0</p>\n  ",localStorage.removeItem("score")};choices.forEach(e=>e.addEventListener("click",play)),window.addEventListener("click",clearModal),restart.addEventListener("click",restartGame),getPreviousScore(),updateScore(),showRestartButton();